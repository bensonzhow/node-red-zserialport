
<script type="text/html" data-help-name="zserial in">
    <p>从本地串口读取数据。</p>
    <h3>输出</h3>
    <dl class="message-properties">
        <dt>payload <span class="property-type">string | buffer</span></dt>
        <dd>通过串口接收到的数据</dd>
        <dt>port <span class="property-type">string</span></dt>
        <dd>串口名称</dd>
    </dl>
    <p>该节点可以
        <ul>
            <li>等待一个“分隔”字符（默认 \n）。也接受转义快捷方式（如 \n）或十六进制表示（0x0d）。</li>
            <li>从接收到第一个字符开始，等待指定的超时时间（毫秒）。</li>
            <li>在接收到最后一个字符后，等待指定的静默时间（毫秒）。</li>
            <li>等待填满固定大小的缓冲区。</li>
        </ul>
    </p>
    <p>然后输出 <code>msg.payload</code>，类型为 UTF-8 ASCII 字符串或二进制缓冲区对象。</p>
    <p><code>msg.port</code> 设置为所选串口的名称。</p>
    <p>如果未指定分隔字符，或超时时间或缓冲区大小为 0，
       则会以单字符流的方式发送数据——同样可以是 ASCII 字符或长度为 1 的二进制缓冲区。</p>
</script>

<script type="text/html" data-help-name="zserial out">
    <p>通过本地串口发送数据。</p>
    <h3>输入</h3>
    <dl class="message-properties">
        <dt>payload <span class="property-type">string | buffer</span></dt>
        <dd>要通过串口发送的数据</dd>
        <dt class="optional">baudrate <span class="property-type">string</span></dt>
        <dd>串口波特率（可选）</dd>
    </dl>
    <p>仅发送 <code>msg.payload</code>。</p>
    <p>可以通过 <code>msg.baudrate</code> 可选地更改波特率。</p>
    <p>可选地，每条发送到串口的消息都可以自动追加用于分隔输入的新行字符。</p>
    <p>可以通过缓冲区对象发送二进制数据。</p>
</script>

<script type="text/html" data-help-name="zserial request">
    <p>提供一个请求/响应串口的连接。</p>
    <p>该节点的行为类似于 <code>serial in</code> 和 <code>serial out</code> 节点的紧密结合，并共享其配置。</p>
    <p>像使用 <code>serial out</code> 节点一样，将请求消息放在 <code>msg.payload</code> 中发送。
       消息将按照严格的 FIFO（先进先出）队列转发到串口，每次等待一个响应后才发送下一个请求。
       一旦收到响应（与 <code>serial in</code> 节点的逻辑相同），或发生超时，
       将向输出发送一条消息（见下方输出），
       <code>msg.payload</code> 包含收到的响应（如超时则无），
       其他属性保持不变。</p>
    <p>为与 <code>serial in</code> 节点一致，<code>msg.port</code> 设置为所选串口的名称。</p>
    <h3>输入</h3>
    <ul>
        <li><code>msg.timeout</code> 为超时时间（毫秒），超时后将带 <code>msg.status</code> 为 <code>"ERR_TIMEOUT"</code> 且无 payload 的消息输出。
            如果未设置，默认值为 10000（10 秒）。</li>
        <li><code>msg.count</code> 如果设置，将覆盖配置的字符数，只要小于配置值。</li>
        <li><code>msg.waitfor</code> 必须为单个字符、转义码或十六进制码。
            如果设置，节点将在数据流中匹配到该字符后开始输出。</li>
        <li>可选地通过 <code>msg.baudrate</code> 更改波特率。</li>
    </ul>
    <h3>输出</h3>
    <ul>
        <li><code>msg.payload</code> 为响应内容。如无响应则该属性被移除。</li>
        <li><code>msg.status</code> 为 <code>"OK"</code>（收到响应）或 <code>"ERR_TIMEOUT"</code>（超时）。</li>
        <li>输入消息的其他属性将被保留。</li>
    </ul>
</script>

<script type="text/html" data-help-name="zserial-port">
    <p>本地串口的配置选项。</p>
    <p>点击搜索按钮可返回可用串口列表，或可直接输入已知串口位置。</p>
    <p>DTR、RTS、CTS 和 DSR 开关可用于永久拉高或拉低相应的流控引脚，例如通过这些引脚为设备供电。</p>
    <p>节点可选地等待匹配预定义字符。</p>
    <p>串口数据接收方式可以
        <ul>
            <li>等待一个“分隔”字符（默认 \n）。也接受转义快捷方式（如 \n）或十六进制表示（0x0d）。</li>
            <li>从接收到第一个字符开始，等待指定的超时时间（毫秒）。</li>
            <li>在接收到最后一个字符后，等待指定的静默时间（毫秒）。</li>
            <li>等待填满固定大小的缓冲区。</li>
        </ul>
    </p>
    <p>然后输出接收到的数据，类型为 UTF-8 ASCII 字符串或二进制缓冲区对象。</p>
    <p>如果未指定分隔字符，或超时时间或缓冲区大小为 0，则会以单字符流的方式发送数据——同样可以是 ASCII 字符或长度为 1 的二进制缓冲区。</p>
    <p>可选地，每条发送到串口的消息都可以自动追加用于分隔输入的新行字符。</p>
</script>

